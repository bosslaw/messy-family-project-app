<ion-header class="profile-header">
  <!-- <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button color="secondary"></ion-menu-button>
    </ion-buttons>
    <ion-title>PROFILES</ion-title>
  </ion-toolbar> -->
  <ion-toolbar color="primary">
    <ion-grid>
      <ion-row>
        <ion-col size="2">
          <ion-avatar>
            <img [src]="profileImage" height="200" width="200">
          </ion-avatar>
        </ion-col>
        <ion-col class="ion-text-left profile-name">
          <ion-label (click)="showProfileOptions()">
            <h1 *ngIf="user">{{user.FirstName}} <ion-icon name="caret-down-outline" color="light"></ion-icon></h1>
            <p *ngIf="userDetails">{{userDetails.relationship_name}}</p>
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="profile">
    <input
      type="file"
      #fileInput
      (change)="uploadFile($event)"
      hidden="true"
      accept="image/*"
    />
    <ion-list-header>
      <ion-label color="medium"> <ion-icon name="person-outline"></ion-icon> <span>PROFILE</span>
        
      </ion-label>

    </ion-list-header> 

    <!-- <ion-item lines="none"> 
      <ion-icon color="medium" slot="start" name="people-outline"></ion-icon>
      <ion-label color="medium">PROFILE</ion-label>
      <ion-icon color="primary"  (click)="updateProfile()" slot="end" name="construct-outline"></ion-icon>
    </ion-item> -->

    <ion-list *ngIf="userDetails">
      
      <ion-item >
        <ion-label>Name</ion-label>
        <ion-text slot="end" color="primary">{{userDetails.first_name}} {{userDetails.last_name}}</ion-text>
      </ion-item>

      <ion-item >
        <ion-label>Birthday</ion-label>
        <ion-text slot="end" color="primary">{{formatDate(userDetails.birth_date)}}</ion-text>
      </ion-item>

      <!-- <ion-item >
        <ion-label>Special Dates</ion-label>
        <ion-text slot="end" color="primary">MM.DD.YY</ion-text>
      </ion-item> -->

      <ion-item >
        <ion-label>Personality Type</ion-label>
        <ion-text slot="end" color="primary">
          {{userDetails.relationship_name}}
        </ion-text>
      </ion-item>

      <!-- <ion-item > 
        <ion-label>
          Favorites
          <p>
            Read Wine - Bella
          </p>
        </ion-label>
      </ion-item> -->
    </ion-list>
  </div>

  <div class="family ion-margin-top">
    <ion-item lines="none"> 
      <ion-icon color="medium" slot="start" name="people-outline"></ion-icon>
      <ion-label color="medium">Family Members</ion-label>
      <ion-icon color="primary"  (click)="addFamilyMember()" slot="end" name="person-add-outline"></ion-icon>
    </ion-item>
    <ion-list *ngIf="familyMembers">
      <ion-item-sliding *ngFor="let member of familyMembers">
        <ion-item >
          <ion-label>{{ member.first_name }} {{member.last_name}}</ion-label>
          <ion-text slot="end">{{member.relationship_name}}</ion-text>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option color="secondary" (click)="updateMember(member)">Edit</ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </div>
</ion-content>
