{"version":3,"sources":["webpack:///src/app/pages/home/home.page.html","webpack:///src/app/pages/home/home-routing.module.ts","webpack:///src/app/pages/home/home.module.ts","webpack:///src/app/pages/home/home.page.scss","webpack:///src/app/pages/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","authService","wp","eventService","router","modalCtrl","storageService","posts","page","count","latestEvents","currentDay","Date","loadPosts","userData$","subscribe","res","user","loadLatestEvents","getLatestEvents","Id","event","create","componentProps","modal","present","preselectedDate","onDidDismiss","then","data","addEvent","formattedEvent","title","start_date","format","end_date","description","location","uid","status","success","error","post","navigate","id","getPosts","totalPosts","target","complete","pages","disabled","selector","template"],"mappings":"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","file":"pages-home-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button color=\\\"secondary\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>catholic family app</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"home ion-padding-horizontal\\\">\\n\\n  <ion-list-header>\\n    <ion-label color=\\\"medium\\\"> <ion-icon  name=\\\"notifications-outline\\\"></ion-icon> <span>REMINDERS</span></ion-label>\\n    <ion-button icon-only color=\\\"secondary\\\" size=\\\"large\\\" (click)=\\\"addEventModal()\\\"><ion-icon size=\\\"large\\\" name=\\\"add-circle\\\"></ion-icon></ion-button>\\n  </ion-list-header> \\n\\n  <!-- <ion-card class=\\\"reminder\\\">\\n    <ion-item lines=\\\"none\\\">\\n      <ion-label color=\\\"primary\\\">\\n        <h1>Special Time with Abby</h1>\\n        <p class=\\\"color-dark italic\\\">Wednesday, Aug 21, 2019</p>\\n      </ion-label>\\n      <ion-button icon-only fill=\\\"clear\\\" size=\\\"large\\\" slot=\\\"end\\\"><ion-icon color=\\\"secondary\\\" name=\\\"chevron-forward-outline\\\"></ion-icon></ion-button>\\n    </ion-item>\\n  </ion-card> -->\\n  <div *ngIf=\\\"latestEvents\\\">\\n    <ion-card class=\\\"reminder\\\" *ngFor=\\\"let event of latestEvents\\\">\\n      <ion-item lines=\\\"none\\\" >\\n        <ion-label color=\\\"primary\\\">\\n          <h1>{{event.title}}</h1>\\n          <p class=\\\"color-dark italic\\\">{{event.start_date | date}}</p>\\n        </ion-label>\\n        <ion-button icon-only fill=\\\"clear\\\" size=\\\"large\\\" slot=\\\"end\\\" (click)=\\\"showEvent(event)\\\"><ion-icon color=\\\"secondary\\\" name=\\\"chevron-forward-outline\\\"></ion-icon></ion-button>\\n      </ion-item>\\n    </ion-card>\\n  </div>\\n  \\n  \\n\\n  <ion-list-header>\\n    <ion-label> <ion-icon  name=\\\"star-outline\\\"></ion-icon> <span>TOP INTERESTS</span></ion-label>\\n  </ion-list-header> \\n\\n  <ion-grid class=\\\"interests\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-card routerLink=\\\"/home/interest-list/20\\\">\\n          <img  src=\\\"/assets/images/marriage_toolkit.png\\\">\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card routerLink=\\\"/home/interest-list/21\\\">\\n          <img  src=\\\"/assets/images/parenting_corner.png\\\">\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-card routerLink=\\\"/home/interest-list/68\\\">\\n          <img  src=\\\"/assets/images/prayer_devotions.png\\\">\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card routerLink=\\\"/home/interest-list/102\\\">\\n          <img  src=\\\"/assets/images/family_culture.png\\\">\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-list-header>\\n    <ion-label color=\\\"medium\\\"> <ion-icon  name=\\\"pulse-outline\\\"></ion-icon> <span>NEW CONTENT</span></ion-label>\\n  </ion-list-header>\\n\\n  <!-- <ion-card *ngFor=\\\"let post of posts\\\">\\n    <ion-card-header>\\n      <ion-card-title [innerHTML]=\\\"post.title.rendered\\\"></ion-card-title>\\n      <ion-card-subtitle>{{ post.date_gmt | date }}</ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <img [src]=\\\"post.media_url\\\">\\n      <div [innerHTML]=\\\"post.excerpt.rendered\\\"></div>\\n      <ion-button expand=\\\"full\\\" fill=\\\"clear\\\" [routerLink]=\\\"['/home/', 'blog', post.id]\\\" text-right>Read More...</ion-button>\\n    </ion-card-content>\\n  </ion-card> -->\\n  <app-blog-thumbnails *ngFor=\\\"let post of posts\\\" [post]=\\\"post\\\" (postClicked)=\\\"viewPost($event)\\\"></app-blog-thumbnails>\\n  <!-- <app-blog-thumbnails></app-blog-thumbnails>\\n  <app-blog-thumbnails></app-blog-thumbnails>\\n  <app-blog-thumbnails></app-blog-thumbnails> -->\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { EventDetailsPageModule } from '../event-details/event-details.module';\nimport { EventFormPageModule } from '../event-form/event-form.module';\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { HomePage } from './home.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    ComponentsModule,\n    EventDetailsPageModule,\n    EventFormPageModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \".home ion-list-header ion-label {\\n  color: #4F4F4F;\\n  display: flex;\\n  align-items: center;\\n}\\n.home ion-list-header ion-label span {\\n  font-size: 14px;\\n  margin-left: 20px;\\n}\\n.home .reminder {\\n  margin: 5px !important;\\n  padding: 13px 0;\\n}\\n.home .reminder h1 {\\n  font-size: 16px;\\n  font-weight: 200;\\n  padding-bottom: 5px;\\n}\\n.home .interests ion-card {\\n  margin: 0px !important;\\n}\\n.home .interests ion-card img {\\n  margin-bottom: -5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qdGFuZ3Bvcy9BcHBzL21lc3N5ZmFtaWx5cHJvamVjdC9tZXNzeWZhbWlseXByb2plY3Qvc3JjL2FwcC9wYWdlcy9ob21lL2hvbWUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9ob21lL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVRO0VBQ0ksY0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0RaO0FERVk7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QUNBaEI7QURLSTtFQUNJLHNCQUFBO0VBQ0EsZUFBQTtBQ0hSO0FESVE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0ZaO0FET1E7RUFDSSxzQkFBQTtBQ0xaO0FETVk7RUFDSSxtQkFBQTtBQ0poQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaG9tZSB7XG4gICAgaW9uLWxpc3QtaGVhZGVye1xuICAgICAgICBpb24tbGFiZWwge1xuICAgICAgICAgICAgY29sb3I6ICM0RjRGNEY7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5yZW1pbmRlciB7IFxuICAgICAgICBtYXJnaW46IDVweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAxM3B4IDA7XG4gICAgICAgIGgxIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAyMDA7XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmludGVyZXN0cyB7XG4gICAgICAgIGlvbi1jYXJkIHtcbiAgICAgICAgICAgIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBpbWd7XG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogLTVweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cblxuIiwiLmhvbWUgaW9uLWxpc3QtaGVhZGVyIGlvbi1sYWJlbCB7XG4gIGNvbG9yOiAjNEY0RjRGO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLmhvbWUgaW9uLWxpc3QtaGVhZGVyIGlvbi1sYWJlbCBzcGFuIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbn1cbi5ob21lIC5yZW1pbmRlciB7XG4gIG1hcmdpbjogNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEzcHggMDtcbn1cbi5ob21lIC5yZW1pbmRlciBoMSB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IDIwMDtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbn1cbi5ob21lIC5pbnRlcmVzdHMgaW9uLWNhcmQge1xuICBtYXJnaW46IDBweCAhaW1wb3J0YW50O1xufVxuLmhvbWUgLmludGVyZXN0cyBpb24tY2FyZCBpbWcge1xuICBtYXJnaW4tYm90dG9tOiAtNXB4O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { EventsService } from 'src/app/services/events/events.service';\nimport { StorageService } from 'src/app/services/storage/storage.service';\nimport { WordpressService } from 'src/app/services/wordpress/wordpress.service';\nimport { EventDetailsPage } from '../event-details/event-details.page';\nimport { EventFormPage } from '../event-form/event-form.page';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  user: any;\n  displayUserData: any;\n  posts = [];\n  page = 1;\n  count = null;\n  latestEvents = [];\n  currentDay = new Date();\n\n  constructor(\n    private authService: AuthService,\n    private wp: WordpressService,\n    private eventService: EventsService,\n    public router: Router,\n    public modalCtrl: ModalController,\n    private storageService: StorageService\n    ) { }\n\n  ngOnInit() {\n    this.loadPosts();\n  }\n\n  ionViewWillEnter() {\n    this.authService.userData$.subscribe((res: any) => {\n      this.user = res;\n      if(this.user) {\n        this.loadLatestEvents();\n      }\n    })\n  }\n\n\n  loadLatestEvents() {\n    this.eventService.getLatestEvents(this.user.Id).subscribe(res => {\n      this.latestEvents = res;\n    });\n  }\n\n  async showEvent(event) {\n    const modal = await this.modalCtrl.create({\n      component: EventDetailsPage,\n      componentProps: {\n        event\n      }\n    });\n\n    return await modal.present();\n  }\n\n  async addEventModal() {\n    const modal = await this.modalCtrl.create({\n      component: EventFormPage,\n      componentProps: {\n        preselectedDate:this.currentDay\n      }\n    });\n\n    modal.onDidDismiss().then((event: any)=> {\n      if(event.data) {\n        this.addEvent(event.data);\n      }\n    });\n\n    return await modal.present();\n  }\n\n  addEvent(event) {\n\n    const formattedEvent = {\n      title: event.title,\n      start_date:  moment(event.start_date).format('YYYY-MM-DD hh:mm'),\n      end_date: moment(event.end_date).format('YYYY-MM-DD hh:mm'),\n      // allDay: event.data.allDay,\n      description: event.description,\n      location: event.location,\n      uid: this.user.Id,\n      status: 'Upcoming'\n    };\n\n    this.eventService.addEvent(formattedEvent).subscribe((res: any) => {\n      if(res.success) {\n        this.loadLatestEvents();\n      }\n    },\n    (error: any) => {\n    });\n  }\n\n  viewPost(post) {\n    this.router.navigate(['/home/blog',post.id])\n  }\n\n  loadPosts() {\n    this.wp.getPosts().subscribe(res => {\n      this.count = this.wp.totalPosts;\n      this.posts = res;\n    });\n  }\n\n  loadMore(event) {\n    this.page++;\n\n    this.wp.getPosts(this.page).subscribe(res => {\n      this.posts = [...this.posts, ...res];\n      event.target.complete();\n\n      // Disable infinite loading when maximum reached\n      if (this.page == this.wp.pages) {\n        event.target.disabled = true;\n      }\n    });\n  }\n\n}\n"]}